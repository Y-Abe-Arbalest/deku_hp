# 予約フォーム設定ガイド（GitHub + Render版）

デクさん観覧車の予約システムをGitHub + Renderで公開するための手順です。

## 📋 概要

- **構成**: 静的サイト（Render） + API（GAS）
- **予約データの送信先**: frankenradio@gmail.com
- **お客様への確認メール送信**: 自動
- **表示用送信元アドレス**: reservation@kanransha.tokyo（ダミー）
- **公開URL**: Renderのドメイン（https://xxx.onrender.com）

---

## 🚀 デプロイ手順

詳細な手順は `README.md` を参照してください。

### クイックスタート

1. **GitHub**: リポジトリ作成 → ファイルをプッシュ
2. **Render**: GitHubリポジトリを接続 → Static Siteとしてデプロイ
3. **GAS**: Code.gsをデプロイ → API URLを取得
4. **設定**: index.htmlにGAS URLを記述 → GitHubにプッシュ

---

## ✅ テスト方法

### 1. サイトの表示確認

1. RenderのダッシュボードでURLを確認
2. ブラウザでアクセス
3. サイトが正常に表示されればOK！

### 2. フォームのテスト

1. サイト内の予約フォームまでスクロール
2. テストデータを入力：
   - 名前：テスト太郎
   - メールアドレス：あなたのメールアドレス
   - 日時、人数、席、シャンパンを適当に選択
3. 「予約を確定する」をクリック
4. 「予約を受け付けました！」と表示されればOK
5. 以下のメールが届くことを確認：
   - **店舗側**: frankenradio@gmail.com に予約通知メール
   - **お客様側**: 入力したメールアドレスに確認メール

※メールが届かない場合は、迷惑メールフォルダを確認してください

---

## 📝 フォーム項目

### 必須項目
- ✅ お名前
- ✅ メールアドレス
- ✅ 予約日
- ✅ 予約時間
- ✅ 人数（1〜7名以上）
- ✅ 席の種別（カウンター/テーブル）

### 任意項目
- 🍾 商品予約（シャンパン）
  - 🔴 信号機1（レッド） - ¥8,800
  - 🟡 信号機2（イエロー） - ¥9,800
  - 🟢 信号機3（グリーン） - ¥10,800

---

## 🎨 送信されるメール

### 店舗への通知メール

**件名**: 【新規予約】デクさん観覧車 - [お客様名]

**内容**:
- お客様情報（名前、メールアドレス）
- 予約内容（日時、人数、席の種別）
- 商品予約（シャンパンの有無）

### お客様への確認メール

**件名**: 【予約確認】デクさん観覧車 - ご予約ありがとうございます

**内容**:
- 予約内容の確認
- 店舗情報（住所、電話番号、営業時間）
- アクセス情報
- 注意事項

**表示上の送信元**: reservation@kanransha.tokyo（ダミー）  
**実際の送信元**: GASを実行しているGoogleアカウント

---

## 🔧 トラブルシューティング

### 問題：サイトが表示されない

**原因と対策**:
1. **デプロイ設定が間違っている**
   - 「アクセスできるユーザー」が「全員」になっているか確認
   - 再度デプロイして新しいURLを取得

2. **index.htmlファイルの名前が間違っている**
   - ファイル名は必ず「index」（拡張子なし）にしてください
   - 「index.html」ではなく「index」です

### 問題：「送信に失敗しました」と表示される

**原因と対策**:
1. **GASのデプロイ設定が間違っている**
   - 「次のユーザーとして実行」が「自分」になっているか確認
   - 「アクセスできるユーザー」が「全員」になっているか確認
   - 再度デプロイして確認

2. **ブラウザのコンソールエラーを確認**
   - F12キーを押してデベロッパーツールを開く
   - コンソールタブでエラーメッセージを確認

### 問題：メールが届かない

**原因と対策**:
1. **迷惑メールフォルダを確認**
   - GmailやOutlookの迷惑メールフォルダをチェック

2. **GASの実行権限を確認**
   - GASエディタで「実行ログ」を確認
   - エラーが表示されている場合は、権限の再承認が必要

3. **メールアドレスの入力ミス**
   - お客様が入力したメールアドレスが正しいか確認

### 問題：「予約を受け付けました」と表示されるが、メールが届かない

**原因と対策**:
1. **GASスクリプトでエラーが発生している**
   - GASエディタで「実行」→「実行ログを表示」を確認
   - エラーメッセージを確認して修正

2. **Gmailの送信制限**
   - GASは1日あたり100通までの送信制限があります
   - 制限に達していないか確認

---

## 🔄 更新手順

### Code.gsまたはindex.htmlを変更した場合

1. GASエディタでファイルを編集
2. 「保存」ボタンをクリック（💾）
3. 「デプロイ」→「デプロイを管理」をクリック
4. 既存のデプロイの右側の鉛筆アイコン（✏️）をクリック
5. 「バージョン」を「新バージョン」に変更
6. 「デプロイ」をクリック

**重要**: URLは変わらないので、ブックマークはそのまま使えます！

---

## 📞 サポート

問題が解決しない場合は、以下を確認してください：

1. ブラウザのデベロッパーツール（F12）でコンソールエラーを確認
2. GASエディタの実行ログを確認
3. すべての手順を最初からやり直す

---

## 🎉 完了！

GAS統合版の設定が完了しました！

**取得したURL**が、あなたの「デクさん観覧車」サイトのURLです。
このURLを：
- SNSでシェア
- QRコードに変換
- 名刺に印刷

して、お客様に広めましょう！

**異次元体験をお届けしましょう！🎡✨**

---

## 📁 ファイル構成

```
GASプロジェクト
├── Code.gs          ... メイン処理（doGet, doPost, メール送信）
└── index.html       ... HTMLページ（Reactコンポーネント含む）
```

シンプルで管理しやすい！

